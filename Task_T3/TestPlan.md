# План тестирования API GET /products/{productId}/cost

## Введение
Этот тест-план предназначен для проверки правильности работы REST API GET /products/{productId}/cost?authToken=&count=&start=

API предназначено для расчета стоимости приобретенных продуктов на основе заданных параметров.

## Цели тестирования
1. Проверить правильность расчета стоимости.
2. Убедиться в корректной обработке граничных значений.
3. Проверить работу механизма аутентификации.
4. Убедиться в правильности обработки ошибок.

## Тестовые случаи

### 1. Позитивные тесты
1. **Корректный расчет стоимости для 5 продуктов с нуля (start=0, count=5)**
    - **Описание:** Проверка расчета стоимости за 5 продуктов, когда ранее не было приобретено ни одного.
    - **Входные данные:** start=0, count=5, authToken=валидный токен
    - **Ожидаемый результат:** HTTP 200, {"cost": 100}

2. **Корректный расчет стоимости для 2 продуктов, когда ранее было приобретено 2 (start=2, count=2)**
    - **Описание:** Проверка расчета стоимости за 2 продукта, когда ранее было приобретено 2 продукта.
    - **Входные данные:** start=2, count=2, authToken=валидный токен
    - **Ожидаемый результат:** HTTP 200, {"cost": 35}

3. **Корректный расчет стоимости для 3 продуктов, когда ранее было приобретено 1 (start=1, count=3)**
    - **Описание:** Проверка расчета стоимости за 3 продукта, когда ранее было приобретено 1 продукт.
    - **Входные данные:** start=1, count=3, authToken=валидный токен
    - **Ожидаемый результат:** HTTP 200, {"cost": 60}

4. **Корректный расчет стоимости для 5 продуктов, когда ранее было приобретено 3 (start=3, count=5)**
    - **Описание:** Проверка расчета стоимости за 5 продуктов, когда ранее было приобретено 3 продукта (должна учитываться партия по 5).
    - **Входные данные:** start=3, count=5, authToken=валидный токен
    - **Ожидаемый результат:** HTTP 200, {"cost": 55} (15+10+30+25+20)

### 2. Негативные тесты
1. **Невалидный токен аутентификации**
    - **Описание:** Проверка работы API при передаче невалидного токена аутентификации.
    - **Входные данные:** start=1, count=3, authToken=невалидный токен
    - **Ожидаемый результат:** HTTP 401, {"errorMessage": "Invalid authToken"}

2. **Неправильный productId**
    - **Описание:** Проверка работы API при запросе с несуществующим productId.
    - **Входные данные:** несуществующий productId, start=1, count=3, authToken=валидный токен
    - **Ожидаемый результат:** HTTP 404, {"errorMessage": "Product not found"}

3. **Передача некорректных значений параметров count и start**
    - **Описание:** Проверка работы API при передаче некорректных значений параметров count и start (например, отрицательные значения).
    - **Входные данные:** start=-1, count=-3, authToken=валидный токен
    - **Ожидаемый результат:** HTTP 400, {"errorMessage": "Invalid parameters"}

### 3. Тесты возможных значений
1. **Минимальные значения параметров (start=0, count=1)**
    - **Описание:** Проверка работы API при минимальных значениях параметров count и start.
    - **Входные данные:** start=0, count=1, authToken=валидный токен
    - **Ожидаемый результат:** HTTP 200, {"cost": 30}

2. **Максимальное значение start (start=4, count=1)**
    - **Описание:** Проверка работы API при максимальном значении параметра start и минимальном значении count.
    - **Входные данные:** start=4, count=1, authToken=валидный токен
    - **Ожидаемый результат:** HTTP 200, {"cost": 10}

3. **Максимальное значение count (start=0, count=5)**
    - **Описание:** Проверка работы API при минимальном значении start и максимальном значении count.
    - **Входные данные:** start=0, count=5, authToken=валидный токен
    - **Ожидаемый результат:** HTTP 200, {"cost": 100}

4. **Максимальные значения start и count (start=4, count=5)**
    - **Описание:** Проверка работы API при максимальных значениях параметров start и count.
    - **Входные данные:** start=4, count=5, authToken=валидный токен
    - **Ожидаемый результат:** HTTP 200, {"cost": 100} (стоимость будет рассчитана как сумма двух партий: 30+25+20+15+10=100)

### 4. Тесты на работу с большими значениями count
1. **Запрос на большую партию продуктов (count>5)**
    - **Описание:** Проверка работы API при запросе большой партии продуктов.
    - **Входные данные:** start=0, count=10, authToken=валидный токен
    - **Ожидаемый результат:** HTTP 200, {"cost": 200} (две партии по 100)

## Критерии успешного завершения тестирования
- Составлены тест-кейсы.
- Тест-кейсы успешно пройдены.
- Найденные баги оформлены в баг-репорты.